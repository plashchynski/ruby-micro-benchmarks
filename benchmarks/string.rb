@count = 100_000

benchmark('"big string"', nil, @count) do |string|
  "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi."
end

benchmark("'big string'", nil, @count) do |string|
  'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi.'
end

benchmark("'big string' + 'big string'", nil, @count) do |string|
  'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi.' + 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi.'
end

benchmark("'big string' << 'big string'", nil, @count) do |string|
  'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi.' << 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus mollis faucibus tortor, eu dignissim mi molestie porta. Duis id vulputate neque. Aliquam arcu tellus, posuere quis convallis et, cursus ut justo. Praesent euismod congue congue. Mauris cursus eleifend ullamcorper. Nullam eu libero sit amet diam elementum ultrices consequat nec nulla. Nam pellentesque lorem eleifend neque dapibus tempus. Integer et turpis nec justo suscipit interdum et eu neque.

  Curabitur viverra interdum tortor, eget pharetra neque malesuada id. Quisque sapien mauris, scelerisque in rutrum eu, tempor ut odio. Cras feugiat malesuada lacinia. Sed dictum ligula eget magna ullamcorper consequat. Etiam odio augue, blandit in commodo in, commodo ut neque. Curabitur fringilla convallis metus, in feugiat dolor euismod pellentesque. Sed ultrices adipiscing fringilla. Proin tempor nisl a felis vulputate ac ultricies lacus dignissim. In hac habitasse platea dictumst. Etiam nec lacus orci. Aliquam ac quam non lorem congue sodales ut vitae orci.

  Praesent in tincidunt justo. Integer vel justo nunc. Aliquam quis sem enim. Praesent elementum, augue quis tristique ultrices, est augue vehicula enim, vitae consequat odio neque vitae nibh. Nunc vitae convallis dui. Morbi sit amet blandit diam. Nunc sit amet accumsan quam. In dapibus lectus bibendum metus vulputate porttitor. Praesent commodo fringilla eros, in pulvinar arcu varius nec.

  Pellentesque quis nisi quis est vehicula rutrum imperdiet faucibus dolor. Nulla in enim lectus. Fusce vitae sem ut est eleifend euismod. Donec vitae nunc a ipsum vestibulum laoreet. Cras ultrices convallis nisl fringilla vulputate. Donec nec odio neque. Sed enim tellus, feugiat id condimentum vitae, iaculis sed dolor. Aliquam erat volutpat. Ut et nisl odio, ut varius ante. Praesent id arcu vel nibh tincidunt rhoncus. Etiam auctor lacus sit amet tortor posuere vitae cursus enim aliquet. Aliquam lobortis, est ut sollicitudin mollis, enim ante consectetur metus, eget aliquam dui justo in nisi.

  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam purus massa, dapibus vitae molestie eu, adipiscing sed lacus. Praesent condimentum sem vitae nisl ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque eget nisi non lorem imperdiet ultrices. Proin at diam nunc. Morbi pharetra aliquam hendrerit. Duis convallis fermentum scelerisque. Nulla facilisi.'
end

a = '1' * 100
c = '2' * 100
benchmark("'string ' << a << ' ' << c", nil, @count) do |string|
  'string ' << a << ' ' << c 
end

benchmark('"string #{a} #{c}"', nil, @count) do |string|
  "string #{a} #{c}"
end
